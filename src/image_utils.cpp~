#include <iostream>
#include <Eigen/Dense>
#define STB_IMAGE_IMPLEMENTATION
#include "vision/stb_image.h"
#include "image.h"

using Eigen::MatrixXd;
using namespace std;


image make_empty_image(int h, int w, int c)
{
    image out;
    out.data = 0;
    out.h = h;
    out.w = w;
    out.c = c;
    return out;
}
/*
image make_image(int h, int w, int c)
{
    image out = make_empty_image(h,w,c);
    out.data = calloc(h*w*c, sizeof(float));
    return out;
}
*/

//channels = 1 for grayscale, 3 for rgb 
image load_image(char *filename, int channels)
{
  int h, w, ch;
  unsigned char *img_out = stbi_load(filename, &w, &h, &ch, channels);
  if (!img_out) {
    cout << "COULD NOT LOAD IMAGE, WRONG PATH." << endl;
  }

  cout << h << " " << w << endl;
  
  
  free(img_out);
  
}

int main()
{
  load_image("/home/bjt/Documents/research/vision/src/keble_a.jpg", 3);
}
